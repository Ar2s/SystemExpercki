package com.sample

import com.sample.DroolsTest.Wyswietlanie;
import com.sample.DroolsTest.FormatOdp;
import com.sample.DroolsTest.Pytanie;
import com.sample.DroolsTest.Cecha;
import java.util.List;
import java.util.ArrayList;
 
query "Wyswielt"
    w : Wyswietlanie();
end

// ************************************
//			PYTANIA
//		10 pytañ g³ownych, 10 szczegó³oweych i 10 ogolnych
// ************************************

//jak pytanie ma slience 2, to ma wy¿szy prioritet, domyœla wartoœæ = 0
// pytania wynikaj¹ce z innych maj¹ wy¿szy, aby zaraz potem siê zada³y
rule "Wielkosc" salience 1
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Wielkosc");
    then
    	insert(new Pytanie("Wielkosc"));
        w.set("Czy wielkoœæ twojej postaci ma znaczenie?", "Wielkoœæ", FormatOdp.YESNO);
    	retract(w);
end

rule "WielkoscDwa" salience 2
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Wielkosc");
    	not Pytanie(tekst == "WielkoscDwa");
    then
    	insert(new Pytanie("WielkoscDwa"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Ma³a");
    		opcje.add("Du¿a");
    		opcje.add("Wielka");
        w.set("Jak du¿¹ postaci¹ wolisz?", "Wielkosc", FormatOdp.RADIOBUTTON, opcje);
    	retract(w);
end


rule "Wiek" salience 1
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Wiek");
    then
    	insert(new Pytanie("Wiek"));
        w.set("Czy wiek towjej postaci ma znaczenie?", "Wiek", FormatOdp.YESNO);
    	retract(w);
end


rule "WiekDwa" salience 2
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Wielkosc");
    	not Pytanie(tekst == "WielkoscDwa");
    then
    	insert(new Pytanie("WielkoscDwa"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("M³oda");
    		opcje.add("W œrednim wieku");
    		opcje.add("Stara");
        w.set("Jaki wiek twojej postac preferujesz?", "Wiek", FormatOdp.RADIOBUTTON, opcje);
    	retract(w);
end

rule "Walczy" salience 1
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Walczy");
    then
    	insert(new Pytanie("Walczy"));
        w.set("Czy chcesz walczyæ?", "Walczy", FormatOdp.YESNO);
    	retract(w);
end

rule "WalczyDwa" salience 2
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Walczy");
    	not Pytanie(tekst == "WalczyDwa");
    then
    	insert(new Pytanie("WalczyDwa"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Miecz");
    		opcje.add("Kostur");
    		opcje.add("Topór");
    		opcje.add("£uk");
    		opcje.add("Kusza");
    		opcje.add("Pistolet");
    		opcje.add("Sztylety");
    		opcje.add("Maczuga");
        w.set("Jak¹ broñ wolisz najbardziej?", "WalczyDwa",  FormatOdp.RADIOBUTTON, opcje);
    	retract(w);
end

rule "Wszechstronny" salience 1
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Wszechstronny");
    then
    	insert(new Pytanie("Wszechstronny"));
        w.set("Czy chcesz byæ wszechstronny(ale nie wybitny w konkretnej dziedzinie)?", "Wszechstronny", FormatOdp.YESNO);
    	retract(w);
end

rule "WszechstronnyDwa" salience 2
    when
    	w : Wyswietlanie();
    	Cecha( tresc == "Wszechstronny");
    	not Pytanie(tekst == "WszechstronnyDwa");
    then
    	insert(new Pytanie("WszechstronnyDwa"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Inteligencja");
    		opcje.add("Spryt");
    		opcje.add("Si³a");
        w.set("Jaka cecha jest dla Ciebie najwa¿niejsza?", "Wszechtronny", FormatOdp.YESNO);
    	retract(w);
end



rule "Zaklecia" salience 1
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Zaklecia");
    then
    	insert(new Pytanie("Zaklecia"));
        w.set("Czy chcesz uzywac zaklec?", "Zaklecia", FormatOdp.YESNO);
    	retract(w);
end


rule "ZakleciaDwa" salience 2
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Zaklecia");
    	not Pytanie(tekst == "ZakleciaDwa");
    then
    	insert(new Pytanie("ZakleciaDwa"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Lecznicze");
    		opcje.add("Wojenne");
    		opcje.add("Kl¹twy");
    		opcje.add("Wspieraj¹ce");
        w.set("Jakie zaklêcia wolisz?", "Zaklecia", FormatOdp.RADIOBUTTON, opcje);
    	retract(w);
end


rule "Kolor" salience 1
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Kolor");
    then
    	insert(new Pytanie("Kolor"));
        w.set("Czy masz ulubiony kolor?", "Kolor", FormatOdp.YESNO);
    	retract(w);
end

rule "KolorDwa" salience 2
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Kolor");
    	not Pytanie(tekst == "KolorDwa");
    then
    	insert(new Pytanie("KolorDwa"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Ró¿owy");
    		opcje.add("Zielony");
    		opcje.add("Czarny");
    		opcje.add("Bia³y");
    		opcje.add("Czerwony");
    		opcje.add("Inny");
        w.set("Jaki jest twój ulubiony kolor?", "Kolor", FormatOdp.RADIOBUTTON, opcje);
        retract(w);
end

rule "Siedziba" salience 1
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Siedziba");
    then
    	insert(new Pytanie("Siedziba"));
        w.set("Czy chcesz miec sta³¹ siedzibê?", "Siedziba", FormatOdp.YESNO);
    	retract(w);
end

rule "SiedzibaDwa" salience 2
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Ogon");
    	not Pytanie(tekst == "OgonKolor");
    then
    	insert(new Pytanie("OgonKolor"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Zielonego");
    		opcje.add("Pomaranczowego");
    		opcje.add("Kremowego");
    		opcje.add("Niebieskiego");
    		opcje.add("Blekitnego");
    		opcje.add("Czarnego");
    		opcje.add("Bialego");
    		opcje.add("Szarego");
    		opcje.add("Rozowego");
    		opcje.add("Brazowego");
    		opcje.add("Fioletowego");
    		opcje.add("Zoltego");
        w.set("Jakiego koloru jest ogon?", "OgonKoloru", FormatOdp.RADIOBUTTON, opcje);
    	retract(w);
end

rule "Skrzydla" salience 2
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Skrzydla");
    then
    	insert(new Pytanie("Skrzydla"));
        w.set("Czy twoj pokemon ma skrzydla?", "Skrzydla", FormatOdp.YESNO);
    	retract(w);
end

rule "SkrzydlaKolor" salience 1
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Skrzydla");
    	not Pytanie(tekst == "SkrzydlaKolor");
    then
    	insert(new Pytanie("SkrzydlaKolor"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Zielonego");
    		opcje.add("Pomaranczowego");
    		opcje.add("Kremowego");
    		opcje.add("Niebieskiego");
    		opcje.add("Blekitnego");
    		opcje.add("Czarnego");
    		opcje.add("Bialego");
    		opcje.add("Szarego");
    		opcje.add("Rozowego");
    		opcje.add("Brazowego");
    		opcje.add("Fioletowego");
    		opcje.add("Zoltego");
        w.set("Jakiego koloru sa skrzydla?", "SkrzydlaKoloru", FormatOdp.RADIOBUTTON, opcje);
    	retract(w);
end

rule "Rece" salience 2
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Rece");
    then
    	insert(new Pytanie("Rece"));
        w.set("Czy twoj pokemon ma rece?", "Rece", FormatOdp.YESNO);
    	retract(w);
end

rule "ReceKolor" salience 1
    when
    	w : Wyswietlanie();
    	Cecha(tresc == "Rece");
    	not Pytanie(tekst == "ReceKolor");
    then
    	insert(new Pytanie("ReceKolor"));
    	List<String> opcje = new ArrayList<String>();
    		opcje.add("Zielonego");
    		opcje.add("Pomaranczowego");
    		opcje.add("Kremowego");
    		opcje.add("Niebieskiego");
    		opcje.add("Blekitnego");
    		opcje.add("Czarnego");
    		opcje.add("Bialego");
    		opcje.add("Szarego");
    		opcje.add("Rozowego");
    		opcje.add("Brazowego");
    		opcje.add("Fioletowego");
    		opcje.add("Zoltego");
        w.set("Jakiego koloru sa rece?", "ReceKoloru", FormatOdp.RADIOBUTTON, opcje);
    	retract(w);
end

rule "Bron"
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Bron");
    then
    	insert(new Pytanie("Bron"));
        w.set("Czy twoj pokemon ma bron?", "Bron", FormatOdp.YESNO);
    	retract(w);
end

rule "Dziob"
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Dziob");
    then
    	insert(new Pytanie("Dziob"));
        w.set("Czy twoj pokemon ma dziob?", "Dziob", FormatOdp.YESNO);
    	retract(w);
end

rule "Piora"
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Piora");
    then
    	insert(new Pytanie("Piora"));
        w.set("Czy twoj pokemon ma piora?", "Piora", FormatOdp.YESNO);
    	retract(w);
end

rule "Futro"
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Futro");
    then
    	insert(new Pytanie("Futro"));
        w.set("Czy twoj pokemon ma futro?", "Futro", FormatOdp.YESNO);
    	retract(w);
end

rule "Wasy"
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Wasy");
    then
    	insert(new Pytanie("Wasy"));
        w.set("Czy twoj pokemon ma wasy?", "Wasy", FormatOdp.YESNO);
    	retract(w);
end

rule "Jezyk"
    when
    	w : Wyswietlanie();
    	not Pytanie(tekst == "Jezyk");
    then
    	insert(new Pytanie("Jezyk"));
        w.set("Czy twoj pokemon ma wytkniety jezyk?", "Jezyk", FormatOdp.YESNO);
    	retract(w);
end

// ************************************
//			Pasuj¹ce Rasy i Klasy 
//				20 klas
// ************************************

//Ludzie
rule "Mag" salience 3
    when
    	w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("Mag", true);        
    	retract(w);
end

rule "Wojownik" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("Wojownik", true);        
    	retract(w);
end

rule "Paladyn" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
	then
	w.set("Paladyn", true);        
    	retract(w)
end


rule "£otrzyk" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("£otrzyk", true);        
    	retract(w);
end

rule "Strzelec" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("Strzelec", true);        
    	retract(w);
end

rule "In¿yniert" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("In¿ynier", true);        
    	retract(w);
end

//Orki
rule "Barbarzynca" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("Barbarzynca", true);        
    	retract(w);
end


rule "Szaman" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("Szaman", true);        
    	retract(w);
end

rule "Lowca" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("Lowca", true);        
    	retract(w);
end

rule "Jezdziec Wilkow" salience 3
	when
		w : Wyswietlanie();
    	//do uzupe³nienia cechy
    then
    	w.set("Nidoking", true);        
    	retract(w);
end

rule "Olbrzym" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Olbrzym", true);        
    	retract(w);
end

rule "Gremlin" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Gremlin", true);        
    	retract(w);
end

//Elfy
rule "Uzdrowicie;" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Uzdrowiciel", true);        
    	retract(w);
end

rule "Bard" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Bard", true);        
    	retract(w);
end

rule "£ucznik" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("£ucznik", true);        
    	retract(w);
end

rule "Assasyn" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Assasyn", true);        
    	retract(w);
end

rule "Druid" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Druid", true);        
    	retract(w);
end

rule "Mêdrzec" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Mêdrzec", true);        
    	retract(w);
end

//klasy bez rasy
rule "Dragonborn" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("Dragonborn", true);        
    	retract(w);
end

rule "WiedŸmin" salience 3
	when
		w : Wyswietlanie();
		//do uzupe³nienia cechy
    then
    	w.set("WiedŸmin", true);        
    	retract(w);
end



/* Przyk³ad rule z odpowiedzi¹
rule "Arcanine"
	when
		w : Wyswietlanie();
		Cecha(tresc == "Nogi4");
		(or
			Cecha(tresc == "NogiKoloruPomaranczowego");
			Cecha(tresc == "NogiKoloruCzarnego");
		)
		Cecha(tresc == "Oczy2");
		Cecha(tresc == "Wzor");
		Cecha(tresc == "UszyKoloruPomaranczowego");
		Cecha(tresc == "OgonKoloruKremowego");
		Cecha(tresc == "Futro");
    then
    	w.set("Arcanine", true);        
    	retract(w);
end
*/